# Netdata configuration for load testing monitoring
# This configuration optimizes Netdata for monitoring during K6 load tests

[global]
    # Performance optimizations for load testing
    update every = 1
    memory mode = dbengine
    page cache size = 64
    dbengine multihost disk space = 1024
    
    # History settings for load testing (keep more data during tests)
    history = 7200
    
    # Error handling
    errors flood protection period = 120
    errors to trigger flood protection = 1200

[web]
    # Web interface settings
    bind to = localhost:19999
    allow connections from = localhost 127.0.0.1 192.168.*.*
    access log = none
    error log = /var/log/netdata/error.log

# Plugin configurations for enhanced monitoring during load tests
[plugin:proc]
    # Enhanced system monitoring
    /proc/meminfo = yes
    /proc/vmstat = yes
    /proc/stat = yes
    /proc/loadavg = yes
    /proc/interrupts = yes
    /proc/softirqs = yes
    /proc/net/dev = yes
    /proc/net/netstat = yes
    /proc/net/sockstat = yes
    /proc/diskstats = yes

[plugin:cgroups]
    # Monitor containers if using Docker
    enable by default cgroups matching = yes
    search for cgroups in subpaths = yes

[plugin:apps]
    # Monitor specific applications
    update every = 1
    
[plugin:go.d]
    # Enable Go applications monitoring (for any Go services)
    enabled = yes

[plugin:python.d]
    # Enable Python monitoring plugins
    enabled = yes

# K6 and load testing specific monitoring
[K6_metrics]
    enabled = yes
    update every = 1

# JVM monitoring for Java applications
[plugin:java]
    enabled = yes
    update every = 1

# Docker monitoring if containers are used
[plugin:docker]
    enabled = yes
    update every = 2

# Network interface monitoring with enhanced detail
[plugin:proc:/proc/net/dev]
    # Monitor all network interfaces
    enabled = yes
    update every = 1

# Memory pressure monitoring
[plugin:proc:/proc/pressure]
    enabled = yes
    update every = 1

# Disk I/O monitoring with enhanced metrics
[plugin:proc:/proc/diskstats]
    enabled = yes
    update every = 1
    
# TCP connection monitoring
[plugin:proc:/proc/net/sockstat]
    enabled = yes
    update every = 1